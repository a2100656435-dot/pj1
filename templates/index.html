<!doctype html>
<html>
<body>
<h2>Upload File</h2>
<form action="/upload" method="post" enctype="multipart/form-data">
    <input type="file" name="file" required><br><br>
    <button type="submit">Upload & Scan</button>
</form>
<div id="result"></div>
<script>
const form = document.querySelector('form');
form.onsubmit = async e=>{
    e.preventDefault();
    const data = new FormData(form);
    const res = await fetch('/upload',{method:'POST',body:data});
    const j = await res.json();
    if(j.status==='success'){
        document.getElementById('result').innerHTML = `<a href="${j.pdf_url}" target="_blank">View PDF</a>`;
    } else {
        document.getElementById('result').innerText = j.message;
    }
};
</script>
</body>
</html>



